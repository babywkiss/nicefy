import{S as x,i as $,s as ee,H as G,C as se,k as U,a as j,l as M,m as y,c as q,h as p,Y as re,n as h,a2 as B,b as D,M as E,N as k,_ as De,g as V,v as ie,d as A,f as ne,D as te,E as le,F as ae,O as ke,$ as oe,P as Te,I as K,X as L,q as X,r as w,V as Q,ad as W,p as N,ae as Z,w as Ue,a9 as Le,y as fe,z as ue,A as ce,aa as Ve,B as de,a3 as _e,ac as Ne,ab as me}from"../chunks/index.15f185e2.js";import{o as he,a as Pe}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.3daf4f89.js";const Se=t=>({}),ge=t=>({}),Ae=t=>({}),pe=t=>({}),Ce=t=>({}),ve=t=>({});function be(t){let e,s,r;const o=t[17].lead,a=se(o,t,t[16],ve);return{c(){e=U("div"),a&&a.c(),this.h()},l(l){e=M(l,"DIV",{class:!0});var n=y(e);a&&a.l(n),n.forEach(p),this.h()},h(){h(e,"class",s="dropzone-lead "+t[4])},m(l,n){D(l,e,n),a&&a.m(e,null),r=!0},p(l,n){a&&a.p&&(!r||n&65536)&&te(a,o,l,l[16],r?ae(o,l[16],n,Ce):le(l[16]),ve),(!r||n&16&&s!==(s="dropzone-lead "+l[4]))&&h(e,"class",s)},i(l){r||(V(a,l),r=!0)},o(l){A(a,l),r=!1},d(l){l&&p(e),a&&a.d(l)}}}function Fe(t){let e,s,r;return{c(){e=U("strong"),s=X("Upload a file"),r=X(" or drag and drop")},l(o){e=M(o,"STRONG",{});var a=y(e);s=w(a,"Upload a file"),a.forEach(p),r=w(o," or drag and drop")},m(o,a){D(o,e,a),E(e,s),D(o,r,a)},p:Q,d(o){o&&p(e),o&&p(r)}}}function Ie(t){let e,s,r;const o=t[17].meta,a=se(o,t,t[16],ge);return{c(){e=U("small"),a&&a.c(),this.h()},l(l){e=M(l,"SMALL",{class:!0});var n=y(e);a&&a.l(n),n.forEach(p),this.h()},h(){h(e,"class",s="dropzone-meta "+t[6])},m(l,n){D(l,e,n),a&&a.m(e,null),r=!0},p(l,n){a&&a.p&&(!r||n&65536)&&te(a,o,l,l[16],r?ae(o,l[16],n,Se):le(l[16]),ge),(!r||n&64&&s!==(s="dropzone-meta "+l[6]))&&h(e,"class",s)},i(l){r||(V(a,l),r=!0)},o(l){A(a,l),r=!1},d(l){l&&p(e),a&&a.d(l)}}}function Oe(t){let e,s,r,o,a,l,n,f,_,g,i,m,z,v,P,O,C=[{type:"file"},{name:t[1]},{class:r="dropzone-input "+t[8]},t[10]()],S={};for(let d=0;d<C.length;d+=1)S=G(S,C[d]);let u=t[12].lead&&be(t);const R=t[17].message,Y=se(R,t,t[16],pe),T=Y||Fe();let b=t[12].meta&&Ie(t);return{c(){e=U("div"),s=U("input"),o=j(),a=U("div"),l=U("div"),u&&u.c(),n=j(),f=U("div"),T&&T.c(),g=j(),b&&b.c(),this.h()},l(d){e=M(d,"DIV",{class:!0,"data-testid":!0});var I=y(e);s=M(I,"INPUT",{type:!0,name:!0,class:!0}),o=q(I),a=M(I,"DIV",{class:!0});var H=y(a);l=M(H,"DIV",{class:!0});var F=y(l);u&&u.l(F),n=q(F),f=M(F,"DIV",{class:!0});var J=y(f);T&&T.l(J),J.forEach(p),g=q(F),b&&b.l(F),F.forEach(p),H.forEach(p),I.forEach(p),this.h()},h(){re(s,S),h(f,"class",_="dropzone-message "+t[5]),h(l,"class",i="dropzone-interface-text "+t[3]),h(a,"class",m="dropzone-interface "+t[7]+" "+t[2]),h(e,"class",z="dropzone "+t[9]),h(e,"data-testid","file-dropzone"),B(e,"opacity-50",t[11].disabled)},m(d,I){D(d,e,I),E(e,s),s.autofocus&&s.focus(),E(e,o),E(e,a),E(a,l),u&&u.m(l,null),E(l,n),E(l,f),T&&T.m(f,null),E(l,g),b&&b.m(l,null),v=!0,P||(O=[k(s,"change",t[27]),k(s,"change",t[18]),k(s,"dragenter",t[19]),k(s,"dragover",t[20]),k(s,"dragleave",t[21]),k(s,"drop",t[22]),k(s,"click",t[23]),k(s,"keydown",t[24]),k(s,"keyup",t[25]),k(s,"keypress",t[26])],P=!0)},p(d,[I]){re(s,S=De(C,[{type:"file"},(!v||I&2)&&{name:d[1]},(!v||I&256&&r!==(r="dropzone-input "+d[8]))&&{class:r},d[10]()])),d[12].lead?u?(u.p(d,I),I&4096&&V(u,1)):(u=be(d),u.c(),V(u,1),u.m(l,n)):u&&(ie(),A(u,1,1,()=>{u=null}),ne()),Y&&Y.p&&(!v||I&65536)&&te(Y,R,d,d[16],v?ae(R,d[16],I,Ae):le(d[16]),pe),(!v||I&32&&_!==(_="dropzone-message "+d[5]))&&h(f,"class",_),d[12].meta?b?(b.p(d,I),I&4096&&V(b,1)):(b=Ie(d),b.c(),V(b,1),b.m(l,null)):b&&(ie(),A(b,1,1,()=>{b=null}),ne()),(!v||I&8&&i!==(i="dropzone-interface-text "+d[3]))&&h(l,"class",i),(!v||I&132&&m!==(m="dropzone-interface "+d[7]+" "+d[2]))&&h(a,"class",m),(!v||I&512&&z!==(z="dropzone "+d[9]))&&h(e,"class",z),(!v||I&2560)&&B(e,"opacity-50",d[11].disabled)},i(d){v||(V(u),V(T,d),V(b),v=!0)},o(d){A(u),A(T,d),A(b),v=!1},d(d){d&&p(e),u&&u.d(),T&&T.d(d),b&&b.d(),P=!1,ke(O)}}}const Re="textarea relative flex justify-center items-center",Ye="w-full absolute top-0 left-0 right-0 bottom-0 z-[1] opacity-0 disabled:!opacity-0 cursor-pointer",je="flex justify-center items-center text-center";function qe(t,e,s){let r,o,a;const l=["files","name","border","padding","rounded","regionInterface","regionInterfaceText","slotLead","slotMessage","slotMeta"];let n=oe(e,l),{$$slots:f={},$$scope:_}=e;const g=Te(f);let{files:i=void 0}=e,{name:m}=e,{border:z="border-2 border-dashed"}=e,{padding:v="p-4 py-8"}=e,{rounded:P="rounded-container-token"}=e,{regionInterface:O=""}=e,{regionInterfaceText:C=""}=e,{slotLead:S="mb-4"}=e,{slotMessage:u=""}=e,{slotMeta:R="opacity-75"}=e;function Y(){return delete n.class,n}function T(c){L.call(this,t,c)}function b(c){L.call(this,t,c)}function d(c){L.call(this,t,c)}function I(c){L.call(this,t,c)}function H(c){L.call(this,t,c)}function F(c){L.call(this,t,c)}function J(c){L.call(this,t,c)}function Me(c){L.call(this,t,c)}function Ee(c){L.call(this,t,c)}function ye(){i=this.files,s(0,i)}return t.$$set=c=>{s(28,e=G(G({},e),K(c))),s(11,n=oe(e,l)),"files"in c&&s(0,i=c.files),"name"in c&&s(1,m=c.name),"border"in c&&s(13,z=c.border),"padding"in c&&s(14,v=c.padding),"rounded"in c&&s(15,P=c.rounded),"regionInterface"in c&&s(2,O=c.regionInterface),"regionInterfaceText"in c&&s(3,C=c.regionInterfaceText),"slotLead"in c&&s(4,S=c.slotLead),"slotMessage"in c&&s(5,u=c.slotMessage),"slotMeta"in c&&s(6,R=c.slotMeta),"$$scope"in c&&s(16,_=c.$$scope)},t.$$.update=()=>{s(9,r=`${Re} ${z} ${v} ${P} ${e.class??""}`)},o=`${Ye}`,a=`${je}`,e=K(e),[i,m,O,C,S,u,R,a,o,r,Y,n,g,z,v,P,_,f,T,b,d,I,H,F,J,Me,Ee,ye]}class Be extends x{constructor(e){super(),$(this,e,qe,Oe,ee,{files:0,name:1,border:13,padding:14,rounded:15,regionInterface:2,regionInterfaceText:3,slotLead:4,slotMessage:5,slotMeta:6})}}function ze(t){let e,s,r,o,a,l,n,f,_,g;return{c(){e=U("img"),r=j(),o=U("div"),a=U("div"),l=U("span"),n=X("? Note:"),f=X(`
				Drag over the image to compare with original`),this.h()},l(i){e=M(i,"IMG",{class:!0,src:!0,alt:!0,style:!0}),r=q(i),o=M(i,"DIV",{style:!0,class:!0});var m=y(o);a=M(m,"DIV",{class:!0});var z=y(a);l=M(z,"SPAN",{class:!0});var v=y(l);n=w(v,"? Note:"),v.forEach(p),f=w(z,`
				Drag over the image to compare with original`),z.forEach(p),m.forEach(p),this.h()},h(){h(e,"class","select-none w-full"),W(e.src,s=t[1])||h(e,"src",s),h(e,"alt","after"),N(e,"grid-column","1 / 2"),N(e,"grid-row","1 / 2"),N(e,"z-index","1"),h(l,"class","text-warning-500"),h(a,"class","p-5 rounded-lg font-bold inline-block bg-surface-500"),N(o,"grid-column","1 / 2"),N(o,"grid-row","1 / 2"),N(o,"z-index","1"),h(o,"class","flex flex-col p-10"),B(o,"hidden",!t[3])},m(i,m){D(i,e,m),t[11](e),D(i,r,m),D(i,o,m),E(o,a),E(a,l),E(l,n),E(a,f),_||(g=k(e,"dragstart",Z(t[9])),_=!0)},p(i,m){m&2&&!W(e.src,s=i[1])&&h(e,"src",s),m&8&&B(o,"hidden",!i[3])},d(i){i&&p(e),t[11](null),i&&p(r),i&&p(o),_=!1,g()}}}function Ge(t){let e,s,r,o,a,l,n,f=t[1]&&ze(t);return{c(){e=U("div"),s=U("img"),o=j(),f&&f.c(),this.h()},l(_){e=M(_,"DIV",{class:!0,style:!0});var g=y(e);s=M(g,"IMG",{class:!0,src:!0,alt:!0,height:!0,width:!0,style:!0}),o=q(g),f&&f.l(g),g.forEach(p),this.h()},h(){h(s,"class","select-none w-full"),W(s.src,r=t[0])||h(s,"src",r),h(s,"alt","before"),h(s,"height",t[6]),h(s,"width",t[5]),N(s,"grid-column","1 / 2"),N(s,"grid-row","1 / 2"),N(s,"z-index","1"),h(e,"class",a="grid "+t[8].class||""),N(e,"grid-template-columns","1fr"),N(e,"grid-template-rows","1fr")},m(_,g){D(_,e,g),E(e,s),E(e,o),f&&f.m(e,null),l||(n=[k(s,"dragstart",Z(t[10])),k(e,"mousemove",t[7]),k(e,"touchmove",Z(t[12])),k(e,"mousedown",t[13]),k(e,"mouseup",t[14]),k(e,"mouseleave",t[15])],l=!0)},p(_,[g]){g&1&&!W(s.src,r=_[0])&&h(s,"src",r),g&64&&h(s,"height",_[6]),g&32&&h(s,"width",_[5]),_[1]?f?f.p(_,g):(f=ze(_),f.c(),f.m(e,null)):f&&(f.d(1),f=null),g&256&&a!==(a="grid "+_[8].class||"")&&h(e,"class",a)},i:Q,o:Q,d(_){_&&p(e),f&&f.d(),l=!1,ke(n)}}}function Xe(t,e,s){let r,o,{beforeUrl:a}=e,{afterUrl:l}=e,n=!0,f,_=!1,g={x:0,y:0};const i=u=>{u instanceof MouseEvent?(g.x=u.pageX-u.currentTarget.offsetLeft,g.y=u.pageY-u.currentTarget.offsetTop):(g.x=u.touches[0].pageX-u.currentTarget.offsetLeft,g.y=u.touches[0].pageY-u.currentTarget.offsetLeft),f&&_&&l&&(s(3,n=!1),s(2,f.style.clipPath=`inset(0 0 0 ${g.x}px)`,f))};function m(u){L.call(this,t,u)}function z(u){L.call(this,t,u)}function v(u){Ue[u?"unshift":"push"](()=>{f=u,s(2,f)})}const P=u=>(i(u),s(4,_=!0)),O=()=>s(4,_=!0),C=()=>s(4,_=!1),S=()=>s(4,_=!1);return t.$$set=u=>{s(8,e=G(G({},e),K(u))),"beforeUrl"in u&&s(0,a=u.beforeUrl),"afterUrl"in u&&s(1,l=u.afterUrl)},t.$$.update=()=>{t.$$.dirty&6&&s(6,r=l&&f?f.height:""),t.$$.dirty&6&&s(5,o=l&&f?f.width:"")},e=K(e),[a,l,f,n,_,o,r,i,e,m,z,v,P,O,C,S]}class we extends x{constructor(e){super(),$(this,e,Xe,Ge,ee,{beforeUrl:0,afterUrl:1})}}function He(t){let e;return{c(){e=U("iconify-icon"),this.h()},l(s){e=M(s,"ICONIFY-ICON",{icon:!0,class:!0}),y(e).forEach(p),this.h()},h(){me(e,"icon","material-symbols:upload-file-rounded"),me(e,"class","text-3xl")},m(s,r){D(s,e,r)},p:Q,d(s){s&&p(e)}}}function Je(t){let e;return{c(){e=X("Upload image or drop here")},l(s){e=w(s,"Upload image or drop here")},m(s,r){D(s,e,r)},d(s){s&&p(e)}}}function Ke(t){let e,s,r,o,a,l,n,f;s=new we({props:{beforeUrl:t[1],afterUrl:t[2],class:""}});function _(i){t[3](i)}let g={name:"files",class:"w-3/4 md:w-1/3 h-1/2",$$slots:{message:[Je],lead:[He]},$$scope:{ctx:t}};return t[0]!==void 0&&(g.files=t[0]),l=new Be({props:g}),Ue.push(()=>Le(l,"files",_)),{c(){e=U("div"),fe(s.$$.fragment),o=j(),a=U("div"),fe(l.$$.fragment),this.h()},l(i){e=M(i,"DIV",{class:!0});var m=y(e);ue(s.$$.fragment,m),m.forEach(p),o=q(i),a=M(i,"DIV",{class:!0});var z=y(a);ue(l.$$.fragment,z),z.forEach(p),this.h()},h(){h(e,"class",r=!t[1]&&!t[2]?"hidden":""),h(a,"class","flex w-full h-full justify-center items-center"),B(a,"hidden",t[1])},m(i,m){D(i,e,m),ce(s,e,null),D(i,o,m),D(i,a,m),ce(l,a,null),f=!0},p(i,[m]){const z={};m&2&&(z.beforeUrl=i[1]),m&4&&(z.afterUrl=i[2]),s.$set(z),(!f||m&6&&r!==(r=!i[1]&&!i[2]?"hidden":""))&&h(e,"class",r);const v={};m&16&&(v.$$scope={dirty:m,ctx:i}),!n&&m&1&&(n=!0,v.files=i[0],Ve(()=>n=!1)),l.$set(v),(!f||m&2)&&B(a,"hidden",i[1])},i(i){f||(V(s.$$.fragment,i),V(l.$$.fragment,i),f=!0)},o(i){A(s.$$.fragment,i),A(l.$$.fragment,i),f=!1},d(i){i&&p(e),de(s),i&&p(o),i&&p(a),de(l)}}}function Qe(t,e,s){let r,o;_e(t,he,n=>s(1,r=n)),_e(t,Pe,n=>s(2,o=n));let a;function l(n){a=n,s(0,a)}return t.$$.update=()=>{if(t.$$.dirty&1&&a!=null&&a[0]){const n=new FileReader;n.readAsDataURL(a[0]),n.onloadend=()=>{typeof n.result=="string"&&Ne(he,r=n.result,r)}}},[a,r,o,l]}class xe extends x{constructor(e){super(),$(this,e,Qe,Ke,ee,{})}}export{xe as default};

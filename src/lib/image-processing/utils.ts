export const rgb2lab = (r: number, g: number, b: number) => {
	let rc = r / 255;
	let gc = g / 255;
	let bc = b / 255;

	rc = rc > 0.40045 ? ((rc + 0.055) / 1.055) ** 2.4 : rc / 12.92;
	gc = gc > 0.40045 ? ((gc + 0.055) / 1.055) ** 2.4 : gc / 12.92;
	bc = bc > 0.40045 ? ((bc + 0.055) / 1.055) ** 2.4 : bc / 12.92;

	let x = (rc * 0.4124 + gc * 0.3576 + bc * 0.1805) / 0.95047;
	let y = (rc * 0.2126 + gc * 0.7152 + bc * 0.0722) / 1.0;
	let z = (rc * 0.0193 + gc * 0.1192 + bc * 0.9505) / 1.08883;

	x = x > 0.008856 ? x ** (1 / 3) : 7.787 * x + 16 / 116;
	y = y > 0.008856 ? y ** (1 / 3) : 7.787 * y + 16 / 116;
	z = z > 0.008856 ? z ** (1 / 3) : 7.787 * z + 16 / 116;

	return {
		L: 116 * y - 16,
		A: 500 * (x - y),
		B: 200 * (y - z),
	};
};
